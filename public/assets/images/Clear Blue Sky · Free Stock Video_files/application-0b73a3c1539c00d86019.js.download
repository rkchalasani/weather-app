(self.webpackChunkpexels=self.webpackChunkpexels||[]).push([[34],{2705:function(t,e,n){"use strict";var r=n(1598),o=n(7258),i=n(2684),a=n(2956),u=n(6631),c=n(4285),s=n(9171),l=(n(5254),n(3822)),d=(n(9242),n(124));function f(){var t=new Date;return t.setTime(t.getTime()+63072e7),t.toUTCString()}u.Z.ready((function(){var t=u.Z.getCookie("locale"),e=window.location.pathname;t&&t!==d.ZW&&"/"===e&&window.location.search.substring(1)!=="locale=".concat(d.ZW.toLowerCase())?window.location.replace("/"+t.toLowerCase()+"/"):function(){var t=u.Z.getLocale();document.cookie="locale="+t+"; expires="+f()+"; path=/",document.cookie="NEXT_LOCALE="+t+"; expires="+f()+"; path=/"}()})),u.Z.ready((function(){"true"==localStorage.getItem("newsletterSubscribed")&&u.Z.addClass(document.body,"newsletter-subscribed")}));n(3152);u.Z.ready((function(){u.Z.removeClass(document.body,"no-js")}));var h=!0;function _(){u.Z.addClass(document.body,"signed-in"),p(),function(){var t=v();if(!t)return;if(!t.photographer)return;u.Z.addClass(document.body,"is-photographer")}()}function p(){var t=v();t&&(function(t){var e=document.querySelector(".js-user-name");if(!e)return;e.innerText=t.name}(t),function(t){var e=document.querySelector(".js-avatar");if(e){var n;try{n=t&&t.avatar||decodeURIComponent(u.Z.getCookie("avatar_url")||"")}catch(r){return}e.setAttribute("src",n)}}(t))}function v(){var t=localStorage.user;if(!t)return m(),null;var e=null;try{e=JSON.parse(t)}catch(n){}return e?(e.hasApprovedMedia||m(),function(t){if(!t.updatedAt)return!0;var e=new Date(t.updatedAt);return new Date-e>6048e5}(e)?(m(),null):e):null}function m(){if(!h){h=!0;var t=new XMLHttpRequest;t.open("GET",d.W2.current_user_path,!0),t.setRequestHeader("Accept","application/json, text/*"),t.onreadystatechange=function(){4===t.readyState&&t.status>=200&&t.status<400&&(!function(t){var e;try{e=JSON.parse(t)}catch(i){return}var n=e.current_user,r={id:n.id,updatedAt:new Date,name:n.first_name,hero:"no_hero"!==n.hero_status,avatar:n.avatar,photographer:n.photographer,hasApprovedMedia:n.has_approved_media};localStorage.user=JSON.stringify(r);var o=new CustomEvent("user-sign-in",{detail:r});window.dispatchEvent(o)}(t.responseText),p())},t.send()}}(u.Z.getCookie("pexels_auth")||v())&&(u.Z.setSignedIn(!0),u.Z.ready(_)),h=!1;n(2789),n(2976);var y=n(7268),g=n(5591),E=n.n(g),b=n(1371);function w(t){for(var e=t;e&&!e.dataset.gridType;)e=e.parentNode;return e}function S(t){return t?t.dataset.photoModalMediumId?t:t.firstElementChild||null:null}function A(t){if(!t)return!1;var e=S(t);return!!e&&(!!e.children&&(!(e.children.length<=0)&&!!e.dataset.photoModalMediumId))}function O(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L=[],T=[],C=function(){T=[]};window.addEventListener("grid-changed",(function(){C()}));var k=function(t){return T.findIndex((function(e){return e===t||e.contains(t)}))},P=function(t){return function(e){if(!e)return null;var n,r=k(e);return r<=0&&(T=function(t){return O(w(t).children).reduce((function(t,e){return[].concat(O(t),O(e.children))}),[]).filter(A).map((function(t){return{medium:t,top:t.offsetTop}})).sort((function(t,e){return t.top-e.top})).map((function(t){return t.medium}))}(e),r=k(e)),(n={index:r,length:T.length}).index/n.length>=.75&&L.forEach((function(t){return t()})),T[t({index:r,length:T.length})]}},R=P((function(t){return t.index+1})),N=P((function(t){var e=t.index,n=t.length,r=e-1;return r<0&&(r=n-1),r}));function q(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){j(i,r,o,a,u,"next",t)}function u(t){j(i,r,o,a,u,"throw",t)}a(void 0)}))}}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onNextItemRequest=function(t){n._eventListeners.indexOf(t)>=0||n._eventListeners.push(t)},this.onGridHover=function(t){n._onGridHover=t},this.forward=function(){i.Z.event("track-click","modal-pagination","forward"),n._createPaginaterFunc(R)},this.backwards=function(){i.Z.event("track-click","modal-pagination","backwards"),n._createPaginaterFunc(N)},this.shouldRequestMoreGridItems=function(t){return n._registeredRequestMoreGridItemsListener=t,function(){n._registeredRequestMoreGridItemsListener=null}},this._loadNextGridPage=M(E().mark((function t(){var e,r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=w(n._currentActiveItem),r=e.dataset.gridType,n._registeredRequestMoreGridItemsListener&&n._registeredRequestMoreGridItemsListener(r)){t.next=5;break}return n.loadingNextPage=!1,t.abrupt("return");case 5:if(!0!==n.loadingNextPage){t.next=7;break}return t.abrupt("return");case 7:n.loadingNextPage=!0,n._registeredRequestMoreGridItemsListener(r).then((function(){n.loadingNextPage=!1,C()}));case 9:case"end":return t.stop()}}),t)}))),this._notifiyEventListenersOfANonMediumPage=function(){n._eventListeners.forEach((function(t){return t({nextMediumId:null})}))},this._notifiyEventListenersOfNewMediumId=function(t){n._eventListeners.forEach((function(e){return e({nextMediumId:t,shouldShowLoader:n._nextPageIsLoading})}))},this._watchUnwatchedItems=function(){var t=q(document.querySelectorAll(n.UNWATCHED_PHOTO_MODAL_ITEMS_SELECTOR)).map((function(t){var e=t.querySelector(n.PHOTO_LINK_SELECTOR);u.Z.addClass(t,n.ITEM_BEING_WATCHED_FOR_CLICKS_CLASS);var r=function(e){if(!e.ctrlKey&&!e.metaKey){e.preventDefault(),e.stopPropagation(),n._currentActiveItem=S(t);var r=n._navigateToCurrentActiveItem(t);n._notifiyEventListenersOfNewMediumId(r)}};return e.addEventListener("click",r),e.addEventListener("mouseenter",(function(){n._onGridHover&&n._onGridHover()})),r}));n._itemListeners=[].concat(q(n._itemListeners||[]),q(t))},this._navigateToCurrentActiveItem=function(){var t=n._currentActiveItem.querySelector(n.PHOTO_LINK_SELECTOR),e=n._currentActiveItem.getAttribute(n.MEDIUM_TITLE_ATTRIBUTE),r=t.getAttribute("href");return y.VF({title:e,href:r}),n._currentActiveItem.getAttribute(n.MEDIUM_ID_ATTRIBUTE)},this._handleStateChange=function(t){var e=t.mediumPage,r=t.mediumId;e?n._notifiyEventListenersOfNewMediumId(r):n._notifiyEventListenersOfANonMediumPage()},this._createPaginaterFunc=function(t){n._currentActiveItem=S(t(n._currentActiveItem)),n._currentActiveItem?(n._navigateToCurrentActiveItem(),n._notifiyEventListenersOfNewMediumId(n._currentActiveItem.dataset.photoModalMediumId)):n._notifiyEventListenersOfANonMediumPage()},this.ITEM_BEING_WATCHED_FOR_CLICKS_CLASS="js-photo-modal-navigator-watching",this.MEDIUM_ID_ATTRIBUTE="data-photo-modal-medium-id",this.UNWATCHED_PHOTO_MODAL_ITEMS_SELECTOR="[".concat(this.MEDIUM_ID_ATTRIBUTE,"]:not(.").concat(this.ITEM_BEING_WATCHED_FOR_CLICKS_CLASS,")"),this.MEDIUM_TITLE_ATTRIBUTE="data-meta-title",this.PHOTO_LINK_SELECTOR="a.js-photo-link",this._currentActiveItem=null,this._eventListeners=[],this._watchUnwatchedItems(),this._unregisterNearEndListener=function(t){if(!(L.indexOf(t)>=0))return L.push(t),function(){L=L.filter((function(e){return e!==t}))}}((function(){return n._loadNextGridPage()})),document.addEventListener("new-photos",(function(){return n._watchUnwatchedItems()})),y.km(this._handleStateChange),document.addEventListener("keydown",(function(t){if(t=t||window.event,e.isOpen){37==t.keyCode?n.canGoBackwards&&n.backwards():39==t.keyCode&&n.canGoForwards&&n.forward()}}))}var e,n,r;return e=t,(n=[{key:"canGoBackwards",get:function(){return N(this._currentActiveItem)}},{key:"canGoForwards",get:function(){return R(this._currentActiveItem)}},{key:"_nextPageIsLoading",get:function(){var t=!1;return!this.canGoForwards&&this.loadingNextPage&&(t=!0),t}}])&&D(e.prototype,n),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function B(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,u,"next",t)}function u(t){x(i,r,o,a,u,"throw",t)}a(void 0)}))}}var W=function(){Promise.all([n.e(893),n.e(806),n.e(750)]).then(n.bind(n,8750)).then()};u.Z.ready((function(){b.Z.setupWholePage()})),u.Z.ready((function(){var t=(0,s.Z)();if(t){var e=new U(t);t.onRequestClose(function(t){return B(E().mark((function e(){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(893),n.e(806),n.e(750)]).then(n.bind(n,8750));case 2:r=e.sent,t.close(),r.close(t);case 5:case"end":return e.stop()}}),e)})))}(t)),t.setForwardRequestHandler(e.forward),t.setBackwardsRequestHandler(e.backwards),e.onGridHover(W),e.onNextItemRequest(function(t){return function(){var e=B(E().mark((function e(r){var o,i,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.nextMediumId,i=r.shouldShowLoader,e.next=3,Promise.all([n.e(893),n.e(806),n.e(750)]).then(n.bind(n,8750));case 3:if(a=e.sent,null!==o){e.next=8;break}return t.close(),a.close(t),e.abrupt("return");case 8:i?t.setForwardRequestHandlerToLoading():t.unsetForwardRequestHandlerToLoading(),a.update(t,o),t.open();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t)),e.shouldRequestMoreGridItems(function(t){return function(e){var n=(0,l.v)(e);n&&n.loadNextPage().then((function(){return t.unsetForwardRequestHandlerToLoading()}))}}(t))}}));n(680);u.Z.ready((function(){var t=(0,s.Z)();t&&t.onRequestClose((function(){y.pX()}))}));var F=n(8740),H=n.n(F);u.Z.ready((function(){var t=function(){return document.querySelector(".js-main-nav-bar").classList.add("main-nav-bar--light")};H().parse(window.location.search.replace("?","")).light_nav&&t(),function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("event","optimize.callback",{name:"nX3RY6kqQP2P41NJE6AqsA",callback:function(e){"1"==e&&(t(),i.Z.event("navbar-experiment","light-v-dark","light",null,{nonInteraction:!0}))}})}));var K=n(6627);u.Z.ready((function(){document.querySelector(K.S)&&n.e(24).then(n.bind(n,1024)).then()}));var G=n(7166);u.Z.ready((function(){document.querySelector(G.u)&&n.e(919).then(n.bind(n,6919)).then(),document.querySelector(".js-seach-filter-modal")&&n.e(875).then(n.bind(n,9875)).then()}));var z=n(7209);u.Z.ready((function(){document.querySelector(z.T)&&n.e(565).then(n.bind(n,6565)).then()}));u.Z.ready((function(){document.querySelector("#js-meetups-show-page")&&n.e(388).then(n.t.bind(n,5388,23)).then()}));var J=n(4215);u.Z.ready((function(){setTimeout((function(){n.e(280).then(n.t.bind(n,2280,23)).then()}),5e3),document.querySelector(J.S7)&&Promise.all([n.e(255),n.e(346)]).then(n.bind(n,5346)).then(),document.querySelector(J.BX)&&n.e(152).then(n.bind(n,4152)).then()})),u.Z.ready((function(){document.querySelector(".js-stats-page")&&Promise.all([n.e(893),n.e(41),n.e(604)]).then(n.bind(n,7604)).then()}));var V=n(9179);u.Z.ready((function(){document.querySelectorAll(V.Z).length>0&&n.e(716).then(n.bind(n,7716)).then()}));n(1742),n(2488),n(6336);u.Z.ready((function(){var t=document.querySelector("[data-lqip]");if(t&&t.getAttribute("src")&&!u.Z.isFastConnection()){var e=t.src.split("?")[0]+"?w=4&h=4&fit=crop",n=t.src,r=t.srcset,o=t.getBoundingClientRect().width,i=t.getBoundingClientRect().height;t.style.width="".concat(o,"px"),t.style.height="".concat(i,"px"),t.srcset="",t.src=e;var a=new Image;a.width=o,a.height=i,a.src=n,a.srcset=r,a.onload=function(){t.src=n,t.srcet=r}}})),n.e(124).then(n.bind(n,2124));var Q={Notifications:c.Z,Dropdown:r.Z,PhotoGrid:o.Z,Track:i.Z,TrackLinks:a.Z,utilities:u.Z,getModal:s.Z};window.Pexels=Q,u.Z.ready((function(){return Promise.all([n.e(893),n.e(806),n.e(211)]).then(n.bind(n,211))}))},4264:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(6631),o=n(4778);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.onDownload,i=void 0===o?{}:o,u=n.buttonElement;s(this,t),this.CUSTOM_WIDTH_INPUT_SELECTOR=".js-download-custom-size-width",this.CUSTOM_HEIGHT_INPUT_SELECTOR=".js-download-custom-size-height",this.CUSTOM_SIZE_RADIO_SELECTOR=".js-download-custom-size-radio",this.DOWNLOAD_SIZE_OPTION_SELECTOR=".js-download-size-option",this.LOCAL_STORAGE_KEY="customDownloadSize",this.SUBMIT_BUTTON_SELECTOR=".js-download-custom-size-submit",this.DOWNLOAD_A_TAG_SELECTOR=".js-download-a-tag",this.removeListenerFunctions=[],this.onDownload=i;var c=u.querySelector(this.CUSTOM_WIDTH_INPUT_SELECTOR),l=u.querySelector(this.CUSTOM_HEIGHT_INPUT_SELECTOR),d=u.querySelector(this.CUSTOM_SIZE_RADIO_SELECTOR),f=u.querySelector(this.SUBMIT_BUTTON_SELECTOR),h=u.querySelector(this.DOWNLOAD_A_TAG_SELECTOR);try{var _=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_KEY));_&&(_.height||_.width)&&(l.value=_.height,c.value=_.width,this._updateWidthPlaceholder({customHeightInput:l,customWidthInput:c}),this._updateHeightPlaceholder({customHeightInput:l,customWidthInput:c}))}catch(g){}h.addEventListener("click",(function(){return e.onDownload&&e.onDownload()}));var p=function(){return e._updateWidthPlaceholder({customHeightInput:l,customWidthInput:c})};l.addEventListener("input",p);var v=function(){return e._updateHeightPlaceholder({customHeightInput:l,customWidthInput:c})};c.addEventListener("input",v),a(document.querySelectorAll(this.DOWNLOAD_SIZE_OPTION_SELECTOR)).forEach((function(t){var n=function(){return e._selectListItem(t)};t.addEventListener("click",n),e.removeListenerFunctions.push((function(){return t.removeEventListener("click",n)}))}));var m=function(t){return e._createDownloadEvent({event:t,customSizeRadio:d,customWidthInput:c,customHeightInput:l,submitButton:f,dropdown:u})};f.addEventListener("click",m);var y=function(t){u.querySelectorAll(e.DOWNLOAD_SIZE_OPTION_SELECTOR).forEach((function(t){return r.Z.removeClass(t,"active")})),r.Z.addClass(t,"active")};u.querySelectorAll(this.DOWNLOAD_SIZE_OPTION_SELECTOR).forEach((function(t){var n=function(){return y(t)};t.addEventListener("click",n),e.removeListenerFunctions.push((function(){return t.removeEventListener("click",n)}))})),this.removeListenerFunctions.push((function(){return f.removeEventListener("click",m)})),this.removeListenerFunctions.push((function(){return l.removeEventListener("input",p)})),this.removeListenerFunctions.push((function(){return c.removeEventListener("input",v)}))}var e,n,u;return e=t,(n=[{key:"reset",value:function(){this.removeListenerFunctions.forEach((function(t){return t()})),this.removeListenerFunctions=[]}},{key:"_updateWidthPlaceholder",value:function(t){var e=t.customHeightInput,n=t.customWidthInput,r=e.value,o=Math.round(r*e.getAttribute("data-aspect-ratio"));n.placeholder=o}},{key:"_updateHeightPlaceholder",value:function(t){var e=t.customHeightInput,n=t.customWidthInput,r=n.value,o=Math.round(r*n.getAttribute("data-aspect-ratio"));e.placeholder=o}},{key:"_createDownloadEvent",value:function(t){var e,n,r,a,u=t.customHeightInput,c=t.customWidthInput,s=t.customSizeRadio,l=t.event,d=t.submitButton,f=t.dropdown;if(s.checked){if("function"==typeof c.checkValidity&&(!c.checkValidity()||!u.checkValidity()))return;e=c.value,n=u.value,this._saveCustomSize({width:e,height:n}),r="".concat(e,"x").concat(n)}else{var h=i((a=f.querySelector('input[name="download-size"]:checked')).value.toLowerCase().split("x"),2);e=h[0],n=h[1],r=a.getAttribute("data-name")}l.preventDefault();var _=o.Z.urlFor(d.getAttribute("data-url"),e,n);window.location.href=_,o.Z.track(r,d.getAttribute("data-id")),this.onDownload&&this.onDownload()}},{key:"_saveCustomSize",value:function(t){var e=t.width,n=t.height;localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify({width:e,height:n}))}},{key:"_selectListItem",value:function(t){t.querySelector('input[type="radio"]').checked=!0}}])&&l(e.prototype,n),u&&l(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4778:function(t,e,n){"use strict";var r=n(5254),o=n(2684),i=n(7157),a=n(8740);e.Z={track:function(t,e){o.Z.event("download",t,e),i.dm()},urlFor:function(t,e,n){var o={search_query:r.Z.getSearchQueryFromReferrer(),tracking_id:r.Z.getAnonymousId()};return e&&(o.w=e),n&&(o.h=n),"".concat(t,"?").concat(a.stringify(o,{encode:!1}))}}},3162:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(6631),o=n(9912);function i(t){var e=t.dropdown,n=t.trigger,i=t.dropdownAboveTrigger,a=void 0===i||i,u=t.rightAligned,c=void 0!==u&&u,s=t.ignoreMargin,l=void 0!==s&&s,d=e.querySelector(o.UY);if(d&&n){var f=d.offsetWidth,h=d.offsetHeight,_=n.offsetWidth,p=0,v=0;if(!l){var m=window.getComputedStyle(n);v=m.marginRight,p=m.marginLeft,p=parseInt(p,10),v=parseInt(v,10)}var y=_/2-f/2;r.Z.hasClass(e,o.Jf)||c?(d.style.left="auto",d.style.right="".concat(y+v,"px")):(d.style.right="auto",d.style.left="".concat(y+p,"px")),a?(r.Z.removeClass(d,o.U0),d.style.top="".concat(-h/2+3,"px")):(r.Z.addClass(d,o.U0),d.style.top="calc(".concat(-h/2,"px + 100%)"))}}},9912:function(t,e,n){"use strict";n.d(e,{JU:function(){return d},Jf:function(){return a},Rm:function(){return l},U0:function(){return o},UY:function(){return r},mY:function(){return i},wP:function(){return s},xH:function(){return c},yP:function(){return u}});var r=".rd__dropdown__container__content__pointer",o="rd__dropdown__container__content__pointer--down",i="rd__dropdown--active",a="rd__dropdown--right",u=".rd__button:first-child",c=250,s=150,l="data-open",d=500},1598:function(t,e,n){"use strict";n.d(e,{X:function(){return s}});var r=n(6631),o=n(9912),i=n(3162),a=n(2569),u=r.Z.debounce((function(){var t=window.innerWidth;document.querySelectorAll(".rd__dropdown").forEach((function(e){var n=e.getBoundingClientRect(),i=n.left+n.width/2<t/2;window.requestAnimationFrame((function(){i?r.Z.removeClass(e,o.Jf):r.Z.addClass(e,o.Jf)}))}))}),100),c=function(t){t.setAttribute("data-dropdown-initialized","true");var e=t.querySelector(o.yP);(0,a.Z)({allowClicks:!0,dropdown:t,dropdownTrigger:e,onRequestOpen:function(){r.Z.addClass(t,o.mY),e&&e.setAttribute(o.Rm,"open"),(0,i.Z)({dropdown:t,trigger:e})},onRequestClose:function(){s(t),e&&e.removeAttribute(o.Rm)},onRequestToggleOpenState:function(){r.Z.toggleClass(t,o.mY),e&&(e.getAttribute(o.Rm)?e.removeAttribute(o.Rm):e.setAttribute(o.Rm,"open"))}})};function s(t){r.Z.removeClass(t,o.mY)}function l(){u(),document.querySelectorAll(".rd__dropdown:not([data-dropdown-initialized])").forEach(c)}window.addEventListener("resize",(function(){return u()})),r.Z.ready(l),e.Z={alignDropdownsBasedOnPositionOnPage:u,init:l}},2569:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(6631),o=n(9912);function i(t){var e=t.dropdown,n=t.dropdownTrigger,i=t.allowClicks,a=void 0!==i&&i,u=t.onRequestClose,c=t.onRequestOpen,s=t.onRequestToggleOpenState,l=void 0,d=void 0,f=void 0;Array.isArray(e)||(e=[e]);var h,_=function(){clearTimeout(l),clearTimeout(d),clearTimeout(f),l=void 0,d=void 0,f=void 0};n&&a&&(h=function(){"undefined"===typeof f&&(_(),s())},n.addEventListener("click",h));var p=!1,v=function(){p||(p=!0,_(),d=setTimeout((function(){a&&!r.Z.hasClass(e,o.mY)&&(f=setTimeout((function(){_()}),o.JU)),c()}),o.wP))};e.forEach((function(t){return t.addEventListener("mouseenter",v)}));var m=function(){p&&(p=!1,_(),l=setTimeout((function(){u()}),o.xH))};return e.forEach((function(t){return t.addEventListener("mouseleave",m)})),{open:v,removeListeners:function(){_(),n&&h&&n.removeListener("click",h),e.forEach((function(t){return t.removeEventListener("mouseenter",v)})),e.forEach((function(t){return t.removeEventListener("mouseleave",m)})),m()}}}},3485:function(t,e,n){"use strict";n.d(e,{Fl:function(){return r},Gu:function(){return a},pw:function(){return o},q5:function(){return i}});var r="hasVisitedSubmitPhotosPage",o="numberOfDownloads",i="firstVisitedAt",a="closedUploadCtaModalAt"},7157:function(t,e,n){"use strict";n.d(e,{LS:function(){return s},dm:function(){return u},rV:function(){return c}});var r,o=n(6631),i=n(3485),a="lals";function u(){var t=c(i.pw)||0;s(i.pw,t+1)}function c(t){return l()[t]}function s(t,e){var n=l();n[t]=e,n=JSON.stringify(n),localStorage.setItem(a,n)}function l(){if(r)return r;try{r=JSON.parse(localStorage.getItem(a))}catch(t){}return r||{}}o.Z.ready((function(){(function(){if(!localStorage.getItem(a)){s("firstVisitedAt",(new Date).getTime())}})(),document.querySelector(".js-submit-photos-page")&&s(i.Fl,!0)}))},3508:function(t,e,n){"use strict";n.r(e);var r=n(6631),o=".js-title-form",i=".js-edit-title-button";e.default={init:function(){var t=document.querySelectorAll(i),e=document.querySelectorAll(o);t.forEach((function(t,n){t.addEventListener("click",(function(o){var i=e[n];o.preventDefault(),r.Z.addClass(t,"hidden"),r.Z.removeClass(i,"hidden")}))}))}}},9037:function(t,e,n){"use strict";var r=n(6631),o=n(8543),i=n(5575),a="__PEXELS_GOOGLE_MAPS_API_CALLBACK_FN__";function u(){var t=document.querySelectorAll(".js-add-location-form");Array.prototype.forEach.call(t,(function(t){if(!t.getAttribute("data-initialized")){t.setAttribute("data-initialized","true");var e=t.querySelector(".js-geo-autocomplete"),n=new o.Z(e);t.addEventListener("submit",function(t,e){return function(){e.querySelector(".js-geo-autocomplete-place-id").value=t.getPlaceId(),e.querySelector(".js-geo-autocomplete-longitude").value=t.getLongitude(),e.querySelector(".js-geo-autocomplete-latitude").value=t.getLatitude(),e.querySelector(".js-geo-autocomplete-city").value=t.getCity(),e.querySelector(".js-geo-autocomplete-state-code").value=t.getStateCode(),e.querySelector(".js-geo-autocomplete-country").value=t.getCountry()}}(n,t))}}))}window[a]=function(){u()},e.Z={init:function(){var t=document.querySelectorAll(".js-show-geo-autocomplete"),e=document.querySelectorAll(".js-add-location-form");Array.prototype.forEach.call(t,(function(t,n){t.getAttribute("data-initialized")||(t.setAttribute("data-initialized","true"),t.addEventListener("click",(function(o){o.preventDefault(),r.Z.addClass(t,"hidden"),r.Z.removeClass(e[n],"hidden"),i.Z.load(a)&&u()})))}))},handleAutocompleteLoaded:u}},8543:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(6631);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n,a,u,c,s,l,d;return function(){r.Z.removeClass(t,"hidden");var h=new google.maps.places.Autocomplete(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({fields:["place_id","name","geometry","address_component"]},e));h.addListener("place_changed",(function(){n=h.getPlace(),c=n.place_id,a=n.geometry.location.lat(),u=n.geometry.location.lng(),s=f("locality","long_name"),l=f("administrative_area_level_1","short_name"),d=f("country","long_name")}))}(),{getLatitude:function(){return a},getLongitude:function(){return u},getPlaceId:function(){return c},getCity:function(){return s},getStateCode:function(){return l},getCountry:function(){return d}};function f(t,e){var r=n.address_components.filter((function(e){return e.types.indexOf(t)>=0}))[0];return r?r[e]:null}}},6336:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(){r(document.querySelectorAll("[data-action]")).forEach((function(t){t.setAttribute("action",t.getAttribute("data-action"))}))}n.d(e,{S:function(){return i}}),n(6631).Z.ready(i)},6903:function(t,e,n){"use strict";function r(t){var e=window.i18n_local,n=window.i18n_global;return void 0===e&&void 0===n?"":void 0!==e&&void 0!==e[t]?e[t]:n[t]}n.d(e,{Z:function(){return r}})},2488:function(t,e,n){"use strict";n.d(e,{pA:function(){return p},oH:function(){return v},qq:function(){return _},vo:function(){return w}});var r,o=n(5591),i=n.n(o),a=n(6631),u=a.Z.makeI18nUrl("/navbar/dropdown/avatar/"),c=a.Z.makeI18nUrl("/navbar/dropdown/explore/"),s=a.Z.makeI18nUrl("/navbar/dropdown/notification/"),l=a.Z.makeI18nUrl("/navbar/mobile-overlay/");function d(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,u,"next",t)}function u(t){d(i,r,o,a,u,"throw",t)}a(void 0)}))}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _="notification",p="avatar",v="ham",m=".js-main-nav-bar",y={},g={},E=(h(r={},"explore",c),h(r,_,s),h(r,p,u),h(r,"ellipsis",u),h(r,v,l),r),b=[];function w(t){return b.push(t),function(){b=b.filter((function(e){return e!==t}))}}function S(t){return A.apply(this,arguments)}function A(){return(A=f(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E[e]){t.next=2;break}return t.abrupt("return",null);case 2:if(!g[e]){t.next=4;break}return t.abrupt("return",g[e]);case 4:return t.next=6,a.Z.get(E[e]);case 6:return n=t.sent,g[e]=a.Z.createElementFromHtml(n),t.abrupt("return",g[e]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){var e=t.dropdown,n=t.type,r=t.content;n===v?(document.body.appendChild(r),function(t){var e,n=document.querySelector(m);if(!n)return;if(!1===(null!==(e=n.dataset.light)&&void 0!==e&&e))return;t.dataset.light=!0}(r)):e.appendChild(r),b.forEach((function(t){return t(n)}))}function I(t){var e=t.dataset.dropdown;t.addEventListener(function(t){return t===v?"click":"mouseenter"}(e),f(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!y[e]){n.next=2;break}return n.abrupt("return");case 2:return y[e]=!0,n.t0=O,n.t1=t,n.t2=e,n.next=8,S(e);case 8:n.t3=n.sent,n.t4={dropdown:n.t1,type:n.t2,content:n.t3},(0,n.t0)(n.t4);case 11:case"end":return n.stop()}}),n)}))))}a.Z.ready((function(){document.querySelectorAll(".js-lazy-dropdown").forEach(I)}))},3152:function(){/(\?nc|&nc)$/.test(document.location.href)&&history.replaceState({},document.title,document.location.href.replace(/(\?nc|&nc)$/,""))},4285:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _erb_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(124),_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6631),_lazyDropdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2488),_track__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2684),NOTIFICATIONS_TRIGGER_SELECTOR=".js-notifications-trigger",NOTIFICATIONS_SCROLL_CONTAINER_SELECTOR=".js-notifications-scroll-container",NOTIFICATIONS_CONTENT_CONTAINER_SELECTOR=".js-notifications-content-container",NOTIFICATION_ICON_SELECTOR=".js-notification-icon",NOTIFICATION_ICON_ACTIVE_CLASS="rd__svg-icon--notifications-active",LENGTH_IN_MS_NOTIFICATIONS_ARE_OPEN_BEFORE_CLEARING_UNSEEN=1200,notificationsContentContainerEl,notificationsScrollContainerEl,seed,isLoading=!1,isLastPage=!1,page=1,lastSeenAt,getNotificationsTriggerEl=function(){return document.querySelector(NOTIFICATIONS_TRIGGER_SELECTOR)};function init(){if(_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.isSignedIn()){var t=getNotificationsTriggerEl();t&&(notificationsScrollContainerEl=document.querySelector(NOTIFICATIONS_SCROLL_CONTAINER_SELECTOR),notificationsContentContainerEl=document.querySelector(NOTIFICATIONS_CONTENT_CONTAINER_SELECTOR),loadNotifications(),timeoutUpdateLastSeenAt(),t.addEventListener("mouseenter",timeoutUpdateLastSeenAt),notificationsScrollContainerEl.addEventListener("scroll",checkIfNearBottom))}}function removeActiveStatusFromNotificationIcon(){var t=getNotificationsTriggerEl().querySelector(NOTIFICATION_ICON_SELECTOR);t&&_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.removeClass(t,NOTIFICATION_ICON_ACTIVE_CLASS)}function timeoutUpdateLastSeenAt(){var t=getNotificationsTriggerEl();setTimeout((function(){t.dataset.open&&updateNotificationsLastSeenAt()}),LENGTH_IN_MS_NOTIFICATIONS_ARE_OPEN_BEFORE_CLEARING_UNSEEN)}function updateNotificationsLastSeenAt(){_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.postRequest({url:_erb_js__WEBPACK_IMPORTED_MODULE_0__.W2.seen_notifications_path},(function(){removeActiveStatusFromNotificationIcon()}),(function(){})),_track__WEBPACK_IMPORTED_MODULE_3__.Z.event("notifications","open")}function loadNotifications(){if(!isLoading)if(isLastPage)notificationsScrollContainerEl.removeEventListener("scroll",checkIfNearBottom);else{isLoading=!0;var url=notificationsContentContainerEl.getAttribute("data-url");url+="?page="+page,seed&&(url+="&seed="+seed),lastSeenAt&&(url+="&last_seen_at="+lastSeenAt);var request=_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.scriptRequest(url);request.onload=function(){eval(request.responseText),page+=1,isLoading=!1,checkIfNearBottom()},request.send()}}function checkIfNearBottom(){var t=notificationsScrollContainerEl.scrollTop+notificationsScrollContainerEl.clientHeight,e=notificationsScrollContainerEl.scrollHeight;e<=0&&1!==page||t+400>e&&loadNotifications()}function setLastPage(){isLastPage=!0}function setSeed(t){seed=t}function checkForNewNotifications(){window.setTimeout(checkForNewNotifications,18e5),_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.getRequest(_erb_js__WEBPACK_IMPORTED_MODULE_0__.W2.check_notifications_path,(function(t){t&&!0===JSON.parse(t).has_new_notifications&&(!function(){var t=getNotificationsTriggerEl().querySelector(NOTIFICATION_ICON_SELECTOR);if(!t)return;_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.addClass(t,NOTIFICATION_ICON_ACTIVE_CLASS)}(),reset())}),(function(){}))}function reset(){isLastPage=!1,page=1,seed=void 0,notificationsContentContainerEl&&(notificationsContentContainerEl.innerHTML="")}_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.ready((function(){_app_sync_utilities__WEBPACK_IMPORTED_MODULE_1__.Z.isSignedIn()&&checkForNewNotifications()})),_lazyDropdown__WEBPACK_IMPORTED_MODULE_2__.vo((function(t){t===_lazyDropdown__WEBPACK_IMPORTED_MODULE_2__.qq&&init()})),__webpack_exports__.Z={setLastPage:setLastPage,setSeed:setSeed,setLastSeenAt:function(t){lastSeenAt=t}}},4215:function(t,e,n){"use strict";n.d(e,{BX:function(){return s},S7:function(){return r},SO:function(){return o},ZH:function(){return a},bn:function(){return i},gw:function(){return l},jL:function(){return d},kU:function(){return u},lO:function(){return c}});var r=".js-api-example",o=".js-api-example-url",i=".js-api-example-code",a=".js-api-example-image-grid",u=8.4,c=1,s=".js-language-changer",l=".js-docs-show-more-btn",d=".js-docs-show-more-list"},6627:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r="#challenge-sticky-bar"},7166:function(t,e,n){"use strict";n.d(e,{c:function(){return o},u:function(){return r}});var r=".js-search-suggestions",o="search__suggestions--fixed"},1371:function(t,e,n){"use strict";n.d(e,{Z:function(){return q}});var r=n(5591),o=n.n(r),i=n(4264),a=n(6631),u=n(815),c=n(2444),s=n(84),l=n(479),d=n(2944);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;t.querySelectorAll(".js-photo-zoom-container").forEach((function(t){if(t){var e=t.querySelector("img");if(e&&!e.dataset.zoomInitiated){e.dataset.zoomInitiated="true";var n=!1,r=!1,o=e.dataset.zoomSrc,i=function(r){if(n){r.preventDefault(),r.stopPropagation();var o=v([-50,50],[0,100]),i=t.offsetHeight,a=t.offsetWidth,u=t.getBoundingClientRect(),c=u.top,s=u.left,l="undefined"!==typeof r.clientX?r.clientX:r.touches&&r.touches[0].clientX||0,d="undefined"!==typeof r.clientY?r.clientY:r.touches&&r.touches[0].clientY||0,f=p((l-s)/a*100,0,100),h=p((d-c)/i*100,0,100),_=-1*o(f),m=-1*o(h);e.style.transform="scale(".concat(3,") translate3d(").concat(_,"%, ").concat(m,"%, 0)"),e.style.transformOrigin="center center"}},u=function(){if(!r){r=!0;var t=new Image;t.onload=function(){e.src=o,e.removeAttribute("srcset")},t.src=o}},c=a.Z.throttle((function(){document.documentElement.clientWidth/window.innerWidth>1&&u()}),100);t.addEventListener("click",(function(r){r.preventDefault(),r.stopPropagation(),n?(n=!1,t.style.cursor="zoom-in",e.style.transform=null,e.style.transformOrigin=null,window.removeEventListener("mousemove",i)):function(r){n=!0,u(),t.style.overflow="hidden",t.style.cursor="zoom-out",e.style.transition="0.1s transform ease",i(r)}(r),window.addEventListener("mousemove",i)})),window.addEventListener("touchmove",c)}}}))}function p(t,e,n){return t<=e?e:t>=n?n:t}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r=f(t,2),o=r[0],i=r[1],a=f(e,2),u=a[0];return(n-u)/(a[1]-u)*(i-o)+o}}var m=n(1598),y=n(6903),g=n(3822),E=n(625),b=n(427),w=n(9037),S=n(3508),A=n(1239);function O(){var t=document.querySelectorAll("[data-confirm]");Array.prototype.forEach.call(t,(function(t){t&&!t.getAttribute("data-initialized")&&(t.addEventListener("click",I),t.setAttribute("data-initialized","true"))}))}function I(t){window.confirm(t.target.getAttribute("data-confirm"))||t.preventDefault()}a.Z.ready(O);var L={init:O},T=n(4778),C=n(2956),k=n(2684);function P(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var N=function(){function t(e){var n=e.wholePage,r=void 0!==n&&n,o=e.htmlElement,i=e.mediumId;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw new Error("MediumPageInteractivity requires a mediumId");this._advertisementModal=null,this._shareModal=null,this._htmlElement=o,this._wholePage=r,this._mediumId=i,this._closed=!1}var e,n,r;return e=t,n=[{key:"close",value:function(){this._closed=!0}},{key:"updateAboveTheFold",value:function(){var t=this;_(this._htmlElement),a.Z.triggerEvent("new-users"),a.Z.triggerEvent("new-photos"),new i.Z({buttonElement:this._htmlElement.querySelector(c.NV),onDownload:function(){var e;t._shareModal&&(t._shareModal.htmlElement.querySelector("[data-user-auto-imported]")?null===(e=t._advertisementModal)||void 0===e||e.open():(t._htmlElement.querySelector(c.Rg).style.display="none",t._shareModal.open()))}});var e=document.querySelector(c.wl);return e.addEventListener("click",(function(){var e=t._mediumId;T.Z.track("click",e)})),e.setAttribute("href",T.Z.urlFor(e.getAttribute("href"))),m.Z.alignDropdownsBasedOnPositionOnPage(),"undefined"!==typeof hj&&hj("trigger","photo-page-poll"),!0}},{key:"updateBelowTheFold",value:function(){var t=this;if(!this._closed){this._htmlElement.querySelectorAll(c.K5).forEach((function(e){e.addEventListener("click",(function(){var e=t._htmlElement.querySelector(c.H7);e.dataset.open?(e.style.display="none",delete e.dataset.open):(e.style.display=null,e.dataset.open=!0,a.Z.elementIsVisible(e,{topThreshold:-200})||e.scrollIntoView&&e.scrollIntoView({behavior:"smooth",block:"start"})),t._updatePhotoStatCard(),a.Z.triggerEvent("photo-page-info-panel-changed")}))}));var e=this._htmlElement.querySelector(c.hW);return e&&e.addEventListener("click",(function(){(0,s.Z)(t._htmlElement.querySelector(c.hQ))})),this._shareModal=this._wholePage?l.Z.findById("".concat(c.ZP,"-ssr")):new d.Z(this._htmlElement.querySelector("#".concat(c.ZP))),this._advertisementModal=this._getAdvertisementModal(),this._htmlElement.querySelector(c.Iv).addEventListener("click",(function(){t._htmlElement.querySelector(c.Rg).style.display=null,t._shareModal.open()})),C.Z.bindEvents(this._htmlElement.querySelectorAll("a")),C.Z.bindEvents(this._htmlElement.querySelectorAll("button")),a.Z.get((0,E.I5)(this._mediumId)).then((function(e){!t._closed&&e&&(t._htmlElement.querySelector(c.TL).innerHTML=e,w.Z.init(),S.default.init(),A.Z.init(),L.init(),document.querySelectorAll(c.t1).forEach((function(t){t.addEventListener("submit",(function(){var e=window.prompt((0,y.Z)("why_do_you_want_to_delete_the_photo"))||"";return e.length<=1?alert((0,y.Z)("you_must_provide_a_reason_why_you_want_to_delete_the_photo")):(t.querySelector(".js-message").setAttribute("value",e),!0)}))})))})),(0,b.Fj)(this._mediumId).then((function(e){!t._closed&&e&&t._htmlElement.querySelectorAll(c.cI).forEach((function(t){t.innerHTML=e}))})),m.Z.alignDropdownsBasedOnPositionOnPage(),a.Z.triggerEvent("new-users"),a.Z.triggerEvent("new-photos"),!0}}},{key:"_getAdvertisementModal",value:function(){if(this._wholePage)return l.Z.findById("".concat(c.Kj,"-ssr"));var t=this._htmlElement.querySelector("#".concat(c.Kj));return t?new d.Z(t):void 0}},{key:"_updatePhotoStatCard",value:function(){var t=this;if(!this._closed&&!this._photoStatCardLoader){this._photoStatCardLoader=!0,(0,b.oz)(this._mediumId).then((function(e){if(!t._closed&&e){var n=e.html,r=t._htmlElement.querySelector("".concat(c.b1,":first-child"));if(r){var o=a.Z.createElementFromHtml(n);r.insertBefore(o,r.firstElementChild.nextSibling)}}}));var e=function(){var n,r=(n=o().mark((function n(){var r,i,a,u,s,l,d,f,h=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:1,n.next=3,(0,b.QR)(t._mediumId,r);case 3:if(i=n.sent,!t._closed){n.next=6;break}return n.abrupt("return");case 6:if(i){n.next=8;break}return n.abrupt("return");case 8:if(a=i.html,u=i.next_page_number,a){n.next=11;break}return n.abrupt("return");case 11:if(s=t._htmlElement.querySelector(c.sN)){n.next=14;break}return n.abrupt("return");case 14:if(l=t._htmlElement.querySelector(c.RZ),d=s.querySelector(c.UZ)){n.next=18;break}return n.abrupt("return");case 18:s.style.display=null,d.insertAdjacentHTML("beforeend",a),m.Z.init(),u?(f=l.cloneNode(!0),l.parentNode.replaceChild(f,l),f.addEventListener("click",(function(t){t.preventDefault(),e(u)}))):l.parentNode.removeChild(l);case 22:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){P(i,r,o,a,u,"next",t)}function u(t){P(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();e()}}},{key:"updateRelatedPhotoGrid",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.ssr,r=void 0!==n&&n;if(!this._closed){var o=r?"ssr-related-photo-grid":"related-photo-grid";(0,u.Z)({type:o,selector:"".concat(r?c.RN:c.rF," .photos")});var i=(0,g.Y)(o,this._htmlElement),s=this._htmlElement.querySelector(c.h8);s.addEventListener("click",(function(){if(!t._closed){k.Z.event("track-click","load-more","photo-page-related");var e=s.innerText;s.disabled=!0,s.innerText="".concat((0,y.Z)("loading"),"..."),i.loadNextPage({requestParams:{type:o}}).then((function(){t._closed||(s.innerText=e,s.disabled=!1)}))}})),a.Z.triggerEvent("new-users"),a.Z.triggerEvent("new-photos")}}}],n&&R(e.prototype,n),r&&R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();N.setupWholePage=function(){var t=document.querySelector(c.RN);if(t){var e=t.getAttribute(c.ru),n=new N({htmlElement:t,wholePage:!0,mediumId:e});n.updateAboveTheFold(),n.updateBelowTheFold(),n.updateRelatedPhotoGrid({ssr:!0})}};var q=N},84:function(t,e,n){"use strict";function r(t){var e;!function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(t),r.removeAllRanges(),r.addRange(o),e=r.toString()}}(t);try{e=document.execCommand("copy")}catch(n){e=!1}return e}n.d(e,{Z:function(){return r}})},680:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(5591),o=n.n(r),i=n(6631),a=n(9171),u=n(7268);function c(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)}))}}var l="data-photo-modal",d="data-photo-modal-initialized",f="[".concat(l,"]:not(").concat(d,")");function h(){return(h=s(o().mark((function t(e){var r,i,c,s,l,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,i=e.href,c=e.title,s=(0,a.Z)(),t.next=4,Promise.all([n.e(893),n.e(806),n.e(750)]).then(n.bind(n,8750));case 4:return l=t.sent,d=l.update,t.next=8,d(s,r);case 8:s.open(),u.VF({href:i,title:c});case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){t.hasAttribute(d)||(t.setAttribute(d,"true"),t.addEventListener("click",(function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),function(t){h.apply(this,arguments)}({id:t.getAttribute(l),href:t.href,title:t.getAttribute("alt")}))})),t.addEventListener("mouseenter",(function(){Promise.all([n.e(893),n.e(806),n.e(750)]).then(n.bind(n,8750)).then()})))}function p(){u.rU(),document.querySelectorAll(f).forEach(_)}i.Z.ready(p)},9171:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(479);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"photo-modal",e=r.Z.findById(t);if(e)return e}},427:function(t,e,n){"use strict";n.d(e,{C0:function(){return y},Fj:function(){return S},GC:function(){return b},QR:function(){return O},Vf:function(){return w},o6:function(){return E},oz:function(){return A}});var r=n(5591),o=n.n(r),i=n(6631),a=n(9405),u=n(625);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,u,"next",t)}function u(t){l(i,r,o,a,u,"throw",t)}a(void 0)}))}}var f={},h={},_={},p={},v={},m={};function y(){return g.apply(this,arguments)}function g(){return g=d(o().mark((function t(){var e,n,r,s,l,d=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:"",!(n=a.U(e))){t.next=4;break}return t.abrupt("return",n);case 4:return t.t0=JSON,t.next=7,i.Z.get((0,u.U1)(e));case 7:return t.t1=t.sent,r=t.t0.parse.call(t.t0,t.t1),s=c(r,1),l=s[0],a.I(e,l),t.abrupt("return",l);case 13:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=f;return new Promise((function(n,r){if(e[t])return n(e[t]);i.Z.get((0,u.qS)(t)).then((function(r){try{return r=JSON.parse(r),e[t]=r,n(e[t])}catch(o){return n(null)}})).catch(r)}))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=h;return new Promise((function(n,r){if(e[t])return n(e[t]);i.Z.get((0,u.rc)(t)).then((function(r){try{return e[t]=r,n(e[t])}catch(o){return n(null)}})).catch(r)}))}function w(t){var e=_;return new Promise((function(n){if(e[t])return n(e[t]);i.Z.get((0,u.jZ)(t)).then((function(r){return n(e[t]=r)}))}))}function S(t){var e=p;return new Promise((function(n){if(e[t])return n(e[t]);i.Z.get((0,u.G4)(t)).then((function(r){return n(e[t]=r)}))}))}function A(t){var e=v;return new Promise((function(n){if(e[t])return n(e[t]);i.Z.get((0,u.TZ)(t)).then((function(r){var o=null;try{o=JSON.parse(r)}catch(i){}return n(e[t]=o)}))}))}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=m;return new Promise((function(r){if(n[t]&&n[t][e])return r(n[t][e]);i.Z.get((0,u.Fx)(t,e)).then((function(o){var i=null;try{i=JSON.parse(o)}catch(a){}return n[t]||(n[t]={}),r(n[t][e]=i)}))}))}},2944:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(6631);function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onRequestClose=function(t){n._closeEventListeners.indexOf(t)>=0||n._closeEventListeners.push(t)},this.open=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n._isOpen=!0,n._registerKeyEventListeners(),t&&r.Z.addClass(document.body,n.CLASS_TO_PREVENT_WINDOW_SCROLLING),r.Z.addClass(n._el,n.OPEN_CLASS),n._overlayEl.scrollTop=0,n._contentEl.focus()},this.close=function(){n._isOpen=!1,n._contentEl.blur(),n._unregisterKeyEventListeners(),r.Z.removeClass(document.body,n.CLASS_TO_PREVENT_WINDOW_SCROLLING),r.Z.removeClass(n._el,n.OPEN_CLASS)},this.setForwardRequestHandler=function(t){if(t){n._forwardRequestHandlerCallback=t;var e=n._el.querySelector(n.FORWARD_REQUEST_BUTTON_SELECTOR);e.style.display=null,e.addEventListener("click",n._forwardRequestHandlerCallback)}},this.setForwardRequestHandlerToLoading=function(){var t=n._el.querySelector(n.FORWARD_REQUEST_BUTTON_SELECTOR);t.disabled=!0,t.querySelector(".js-loading").style.display=null,t.querySelector(".js-not-loading").style.display="none"},this.unsetForwardRequestHandlerToLoading=function(){var t=n._el.querySelector(n.FORWARD_REQUEST_BUTTON_SELECTOR);t.disabled=!1,t.querySelector(".js-loading").style.display="none",t.querySelector(".js-not-loading").style.display=null},this.setBackwardsRequestHandler=function(t){if(t){n._backwardsRequestHandlerCallback=t;var e=n._el.querySelector(n.BACKWARDS_REQUEST_BUTTON_SELECTOR);e.style.display=null,e.addEventListener("click",n._backwardsRequestHandlerCallback)}},this.hideAllCurrentCloseButtons=function(){n._closeButtons.forEach((function(t){t.style.display="none"})),n._closeButtons=[]},this.registerCloseButton=function(t){t.addEventListener("click",(function(){return n._notifyListenersOfCloseRequest()})),n._closeButtons.push(t)},this._notifyListenersOfCloseRequest=function(){!Array.isArray(n._closeEventListeners)||n._closeEventListeners.length<=0?n.close():n._closeEventListeners.forEach((function(t){return t()}))},this.enableNavigation=function(){n._forwardRequestHandlerCallback&&(n._el.querySelector(n.FORWARD_REQUEST_BUTTON_SELECTOR).style.display=null),n._backwardsRequestHandlerCallback&&(n._el.querySelector(n.BACKWARDS_REQUEST_BUTTON_SELECTOR).style.display=null)},this.disableNavigation=function(){n.disableForwardNavigatonButton(),n.disableBackwardsNavigatonButton()},this.disableBackwardsNavigatonButton=function(){n._el.querySelector(n.BACKWARDS_REQUEST_BUTTON_SELECTOR).style.display="none"},this.disableForwardNavigatonButton=function(){n._el.querySelector(n.FORWARD_REQUEST_BUTTON_SELECTOR).style.display="none"},this._registerKeyEventListeners=function(){n.keyListener=function(t){("key"in(t=t||window.event)&&"Escape"===t.key||"Esc"===t.key||27===t.keyCode||!1)&&(t.stopPropagation(),n._notifyListenersOfCloseRequest())},n._el.addEventListener("keydown",n.keyListener),document.addEventListener("keydown",n.keyListener)},this._unregisterKeyEventListeners=function(){n._el.removeEventListener("keydown",n.keyListener),document.removeEventListener("keydown",n.keyListener)},this._getCloseButtonsNotInNestedModal=function(){var t=n._el.querySelectorAll(n.MODAL_SELECTOR);return o(n._el.querySelectorAll(n.MODAL_CLOSE_BUTTON_SELECTOR)).filter((function(e){var n=!1;return t.forEach((function(t){t.contains(e)&&(n=!0)})),!n}))},e&&(this.CLASS_TO_PREVENT_WINDOW_SCROLLING="rd__modal-prevent-body-scroll",this.FORWARD_REQUEST_BUTTON_SELECTOR=".js-modal-forward-request-button",this.BACKWARDS_REQUEST_BUTTON_SELECTOR=".js-modal-backwards-request-button",this.MODAL_SELECTOR=".rd__modal",this.MODAL_CLOSE_BUTTON_SELECTOR=".js-modal-close-button",this.OPEN_CLASS="rd__modal--open",this._el=e,this._overlayEl=this._el.querySelector(".rd__modal__overlay"),this._contentEl=this._el.querySelector(".rd__modal__content"),this._closeButtons=this._getCloseButtonsNotInNestedModal(),this._isOpen=!1,this._closeEventListeners=[],this._contentEl.addEventListener("click",(function(t){return t.stopPropagation()})),this._overlayEl.addEventListener("click",(function(){return n._notifyListenersOfCloseRequest()})),this._closeButtons.forEach((function(t){t.addEventListener("click",(function(){return n._notifyListenersOfCloseRequest()}))})))}var e,n,i;return e=t,(n=[{key:"isOpen",get:function(){return this._isOpen}},{key:"htmlElement",get:function(){return this._el}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},479:function(t,e,n){"use strict";var r=n(2944),o=n(6631);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var s=c((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.findById=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e._modals[t]},o.Z.ready((function(){e.MODAL_SELECTOR=".rd__modal:not([data-no-close])",e._modals=i(document.querySelectorAll(e.MODAL_SELECTOR)).reduce((function(t,e){if(!e.id)throw new Error("All modals require an ID.");return t[e.id]=new r.Z(e),t}),{})}))}));e.Z=new s},7268:function(t,e,n){"use strict";n.d(e,{VF:function(){return d},km:function(){return f},pX:function(){return h},rU:function(){return c}});var r=n(625),o=n(2684),i=n(9171),a=(0,n(6903).Z)("default_html_title"),u={title:null,pathname:null},c=function(){u={title:document.title,pathname:window.location.pathname}},s=function(){var t=(0,i.Z)();return!!t&&t.isOpen},l=[];window.addEventListener("popstate",(function(){if(s||c(),window.location.pathname===u.pathname)return l.forEach((function(t){return t({mediumPage:!1})}));window.location.pathname.match(r.zP)?l.forEach((function(t){return t({mediumPage:!0,mediumId:window.location.pathname.replace(r.zP,"").replace(/\D/g,"")})})):window.location.reload()}));var d=function(t){var e=t.title,n=void 0===e?"":e,r=t.href;s()||c(),window.history.pushState(void 0,n||a,r),document.title=n||a,o.Z.page()},f=function(t){if(!(l.indexOf(t)>=0))return l.push(t),function(){l=l.filter((function(e){return e!==t}))}},h=function(){window.history.pushState(null,u.title,u.pathname),document.title=u.title,o.Z.page()}},2444:function(t,e,n){"use strict";n.d(e,{CN:function(){return j},DH:function(){return i},DW:function(){return p},Dn:function(){return z},Ev:function(){return M},F4:function(){return g},Fv:function(){return F},Gn:function(){return b},H7:function(){return c},HE:function(){return w},Iv:function(){return u},J1:function(){return Z},K5:function(){return a},K9:function(){return H},Kj:function(){return _},M3:function(){return V},NV:function(){return A},QK:function(){return P},Qo:function(){return W},RN:function(){return o},RU:function(){return y},RZ:function(){return ot},Rg:function(){return h},Rv:function(){return x},SU:function(){return C},TL:function(){return Q},UH:function(){return v},UZ:function(){return rt},Vk:function(){return D},XC:function(){return S},XF:function(){return J},ZP:function(){return f},b1:function(){return et},cI:function(){return tt},fF:function(){return U},h8:function(){return d},hQ:function(){return l},hV:function(){return R},hW:function(){return s},lE:function(){return k},pq:function(){return E},qc:function(){return T},rF:function(){return r},ru:function(){return X},ry:function(){return K},sN:function(){return nt},sx:function(){return B},t1:function(){return Y},to:function(){return q},uk:function(){return L},ut:function(){return I},wl:function(){return O},wz:function(){return G},x7:function(){return $},y2:function(){return m},zW:function(){return N}});var r="#photo-modal",o="#photo-page-body",i=".js-modal-below-the-fold-content",a=".js-photo-info-toggle-button",u=".js-photo-share-button",c=".js-photo-info-section",s=".js-copy-attribute-button",l=".js-copy-attribute-content",d=".js-related-photos-request-more",f="after-download-social",h=".js-photo-page-popup-social-share-links",_="after-download-advertisement",p=".js-photo-page-mini-profile-avatar img",v=".js-photo-page-mini-proile-donation-button",m=".js-photo-page-mini-profile-link",y=".js-photo-page-mini-profile-follow-button",g=".js-photo-page-mini-profile-followers",E=".js-photo-page-mini-profile-full-name",b=".js-photo-page-action-buttons-like",w=".js-text",S=".js-photo-page-action-buttons-collect",A=".js-photo-page-action-buttons-download",O=".js-download-a-tag",I=".js-download-size-option",L=".js-download-size-option-text",T=".js-download-custom-size-width",C=".js-download-custom-size-height",k=".js-download-custom-size-submit",P=".js-photo-page-image-download-link",R=".js-photo-zoom-container",N=".js-photo-page-image-img",q=".js-photo-page-video-iframe",Z=".js-photo-details-description",j=".js-photo-details-views",M=".js-photo-details-license",D=".js-photo-details-location",U=".js-photo-details-tag-text",x=".js-photo-details-tag-text",B=".js-photo-page-photographer-card",W=".js-photo-page-photographer-card-title",F=".js-photo-page-photographer-card-link",H=".js-photo-page-photographer-card-img",K=".js-photo-page-photographer-card-full-name",G=".js-follower-count-display",z=".js-photo-page-photographer-card-location",J=".js-follow",V=".js-photo-page-photographer-card-donate",Q=".js-modal-below-the-fold-user-actions",Y="form.js-photo-deletion-request",X="data-medium-id",$=".js-modal-below-the-fold-related-photo-grid",tt=".js-photo-page-photographer-card-more-photos",et=".js-photo-page-info-column",nt=".js-photo-page-featured-in-card",rt=".js-featured-in-card-items",ot=".js-featured-in-load-more"},1742:function(t,e,n){"use strict";n.d(e,{Ld:function(){return f},U2:function(){return h},ZH:function(){return _}});var r=n(6631),o=n(2684);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var u="search-history",c={},s=a((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.MAX_LENGTH=10,this._queues=void 0,this.load=function(){try{var t=JSON.parse(localStorage.getItem(u));if(t)return t}catch(e){}return c},this.get=function(){return e._queues[r.Z.getLocale()]||[]},this.add=function(t){o.Z.event("search","searchQuery",t,null,{nonInteraction:!0});var n=e._queues[r.Z.getLocale()]||(e._queues[r.Z.getLocale()]=[]);t.toLowerCase&&(t=t.toLowerCase()),n.includes(t)||(n.unshift(t),n.length>e.MAX_LENGTH&&n.pop(),e.persist())},this.persist=function(){localStorage.setItem(u,JSON.stringify(e._queues))},this._queues=this.load()})),l=[],d=function(){return l.forEach((function(t){return t()}))},f=function(t){return l.push(t),function(){l=l.filter((function(e){return e!==t}))}},h=function(){return(new s).get()},_=function(){localStorage.setItem(u,JSON.stringify(c)),d()};r.Z.ready((function(){var t,e,n=document.querySelector(".js-search-value");n&&(n.dataset.value&&(t=n.dataset.value,(e=new s).add(t),d(),e.get()))}))},9179:function(t,e,n){"use strict";n.d(e,{T:function(){return r}});var r=".js-search-bar-dropdown";e.Z=".js-search-bar"},2789:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SponsoredPhotos}});var _utilities__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6631),_track_links__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2956),_track__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2684);function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _createForOfIteratorHelper(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var DAILY_CLICKS_LIMIT=3,SponsoredPhotos=function(){function SponsoredPhotos(){var t=this;_classCallCheck(this,SponsoredPhotos),document.addEventListener("new-sponsored-photos",(function(){t.loadAllSponsoredPhotos()})),document.addEventListener("new-photos",(function(){t.loadAllSponsoredPhotos()})),document.addEventListener("end-of-photos",(function(){t.loadAllSponsoredPhotos(),t.loadAllSponsoredPhotos({respectLoadOnInitAttribute:!1})})),this.loadAllSponsoredPhotos()}return _createClass(SponsoredPhotos,[{key:"loadAllSponsoredPhotos",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.respectLoadOnInitAttribute,r=void 0===n||n,o=_toConsumableArray(document.querySelectorAll(".js-sponsored-photos"));o.forEach((function(e){if(!e.getAttribute("data-loaded")&&(!r||"false"!=e.getAttribute("data-load-on-init"))){var n=e.getBoundingClientRect().top-window.innerHeight;e.setAttribute("data-loaded",!0),window.setTimeout((function(){return t.load(e)}),n<600?0:400)}}))}},{key:"load",value:function load(el){var _this3=this,showChinaLink=("zh-cn"===navigator.language.toLowerCase()||"zh-cn"===_utilities__WEBPACK_IMPORTED_MODULE_0__.Z.getLocale().toLowerCase())&&!!el.getAttribute("data-url-china"),url=showChinaLink?el.getAttribute("data-url-china"):el.getAttribute("data-url"),request=_utilities__WEBPACK_IMPORTED_MODULE_0__.Z.scriptRequest(url);request.onload=function(){if(document.body.contains(el)&&request.status>=200&&request.status<400){var data=eval(request.responseText);if(!data)return;el.innerHTML=data.html;var photoIds=_this3.getPhotoIds(el);if(null!=photoIds&&_track__WEBPACK_IMPORTED_MODULE_2__.Z.event("load",data.name,data.size,photoIds,{nonInteraction:!0}),_this3.getTodaysClicks()<DAILY_CLICKS_LIMIT){var els=document.querySelectorAll(".js-sponsored-photos-links");_track_links__WEBPACK_IMPORTED_MODULE_1__.Z.bindEvents(els),_this3.addEventListeners(els)}}},request.send()}},{key:"addEventListeners",value:function(t){var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.addEventListener(r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"addEventListener",value:function(t){var e=this;t.addEventListener("click",(function(){var t=e.getTodaysClicks()+1,n=_defineProperty({},e.getDateToday(),t);localStorage.setItem("sponsored-media-clicks",JSON.stringify(n)),t>=DAILY_CLICKS_LIMIT&&e.removeEventListeners()}))}},{key:"removeEventListeners",value:function(){_track_links__WEBPACK_IMPORTED_MODULE_1__.Z.unbindEvents(document.querySelectorAll(".js-sponsored-photos-links"))}},{key:"getDateToday",value:function(){var t=new Date;return t.getMonth()+"-"+t.getDate()+"-"+t.getFullYear()}},{key:"getTodaysClicks",value:function(){var t=localStorage.getItem("sponsored-media-clicks");return t&&JSON.parse(t)[this.getDateToday()]||0}},{key:"getPhotoIds",value:function(t){var e=this,n=t.querySelector(".sponsored-photos, .sponsored-photos--inline__grid");if(!n)return null;var r=n.querySelectorAll(".js-sponsored-photos-links"),o=[];return r.forEach((function(t){var r=t.getAttribute("data-track-value");r&&e.isVisible(n,t)&&o.push(r)})),o.join(",")}},{key:"isVisible",value:function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return r.top<n.bottom&&r.left<n.right}}]),SponsoredPhotos}();_utilities__WEBPACK_IMPORTED_MODULE_0__.Z.ready((function(){return new SponsoredPhotos}))},2976:function(t,e,n){"use strict";n.d(e,{oS:function(){return h},sc:function(){return f}});var r=n(6631);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c="tailored-search-tags",s=function(){try{var t=JSON.parse(localStorage.getItem(c))[r.Z.getLocale()];if(Array.isArray(t))return t}catch(e){0}return[]},l=function(){var t=i(document.querySelectorAll(".js-related-search-item")).map((function(t){return t.attributes["data-related-search-item"].value})).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>0}));!function(t){var e=s(),n=i(new Set([].concat(i(t),i(e)))).slice(0,30);try{var o=JSON.parse(localStorage.getItem(c));r.Z.isObject(o)||(o={}),o[r.Z.getLocale()]=n,localStorage.setItem(c,JSON.stringify(o))}catch(a){console.log(a)}}(t)},d=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=i(t),r=new Set;n.length>0&&r.size<e;){var a=Math.floor(Math.random()*n.length),u=n.splice(a,1),c=o(u,1),s=c[0];r.add(s)}return i(r)},f=function(t){var e=t.tag,n=t.text,r=e.innerText.toLowerCase().trim(),o=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=decodeURI(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/").filter((function(t){return t})),r=n.findIndex((function(e){return e.trim()===t.trim()}));return!(r<0)&&(n[r]=e,encodeURI("/"+n.join("/")+"/"))}(e.pathname,r,n);return!!o&&(e.href=o,e.innerText=n,!0)},h=function(t){return d(s(),t)};r.Z.ready((function(){var t,e;document.querySelector("[data-video-search],[data-photo-search]")&&l(),t=i(document.querySelectorAll(".js-popular-search-tag")),e=t.map((function(t){return t.attributes["data-popular-search-value"]})),d(s(),t.length).forEach((function(n,r){var o=t[r];o&&(e.includes(n)||f({tag:o,text:n})&&(o.dataset.trackLabel=n,o.dataset.trackAction="suggested-search",o.dataset.popularSearchValue=n))}))}))},2956:function(t,e,n){"use strict";var r=n(6631),o=n(2684);function i(t){t.forEach((function(t){t.addEventListener("click",a)}))}function a(t){for(var e=t.target,n=0;n<4&&null==e.getAttribute("data-track-label");n++)e=e.parentNode;o.Z.event("track-click",e.getAttribute("data-track-action"),e.getAttribute("data-track-label"),e.getAttribute("data-track-value"),{transport:"beacon"})}r.Z.ready((function(){i(document.querySelectorAll("[data-track-action]"))})),e.Z={bindEvents:i,unbindEvents:function(t){t.forEach((function(t){t.removeEventListener("click",a)}))}}},7209:function(t,e,n){"use strict";n.d(e,{E:function(){return a},T:function(){return i}});var r=n(8740),o=n(1742),i=".js-personalized-collection-section",a=function(){return"".concat("/discover/personalized/","?").concat(r.stringify({search_history:o.U2()},{arrayFormat:"brackets"}))}}},function(t){t.O(0,[974,170],(function(){return e=2705,t(t.s=e);var e}));t.O()}]);